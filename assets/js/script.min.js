(()=>{"use strict";function t(){document.querySelectorAll("[data-city]").forEach((function(t){if(!t.dataset.fetched){var e=t.getAttribute("data-city");fetch("https://nominatim.openstreetmap.org/search?city=".concat(e,"&format=json")).then((function(t){return t.json()})).then((function(e){if(e.length>0){var n=e[0],o=n.lat,r=n.lon;fetch("https://api.open-meteo.com/v1/forecast?latitude=".concat(o,"&longitude=").concat(r,"&current_weather=true")).then((function(t){return t.json()})).then((function(e){var n=e.current_weather.temperature;t.innerHTML="<p>Temperature: ".concat(n,"Â°C</p>"),t.dataset.fetched="true"})).catch((function(t){return console.error("Weather API Error:",t)}))}else t.innerHTML="<p>Location not found.</p>"})).catch((function(t){return console.error("Geocoding API Error:",t)}))}}))}document.addEventListener("DOMContentLoaded",(function(){var e;t(),null==(e=document.getElementById("auto-fill"))||e.addEventListener("click",(function(){var t=document.getElementById("title").value.trim(),e=document.getElementById("city_latitude"),n=document.getElementById("city_longitude");t?fetch("https://nominatim.openstreetmap.org/search?city=".concat(t,"&format=json")).then((function(t){return t.json()})).then((function(t){if(t.length>0){var o=t[0],r=o.lat,c=o.lon;e.value=r,n.value=c,e.dispatchEvent(new Event("input",{bubbles:!0})),n.dispatchEvent(new Event("input",{bubbles:!0}))}else alert("Location not found.")})).catch((function(t){return console.error("Geocoding API Error:",t)})):alert("Please enter a city name.")})),new MutationObserver((function(e){e.forEach((function(e){"childList"===e.type&&e.addedNodes.forEach((function(e){1===e.nodeType&&t()}))}))})).observe(document.body,{childList:!0,subtree:!0})}))})();